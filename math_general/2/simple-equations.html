<!DOCTYPE html>
<html lang="uk">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ (–ù–æ—É—Ç–±—É–∫)</title>
    <style>
      body {
        font-family: "Verdana", sans-serif;
        background-color: #e3f2fd; /* –°–≤—ñ—Ç–ª–æ-–±–ª–∞–∫–∏—Ç–Ω–∏–π */
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 100vh;
        margin: 0;
        overflow: hidden; /* –ü—Ä–∏–±–∏—Ä–∞—î–º–æ –ø—Ä–æ–∫—Ä—É—Ç–∫—É */
      }

      .game-container {
        background-color: white;
        border-radius: 20px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        padding: 30px 50px;
        /* –¢–£–¢ –ì–û–õ–û–í–ù–ê –ó–ú–Ü–ù–ê: –®–∏—Ä–∏–Ω–∞ –¥–ª—è –Ω–æ—É—Ç–±—É–∫–∞ */
        width: 90%;
        max-width: 1100px;
        text-align: center;
        border: 4px solid #2196f3;
      }

      .level-header {
        font-size: 24px;
        font-weight: bold;
        color: #1565c0;
        margin-bottom: 10px;
        text-transform: uppercase;
        letter-spacing: 2px;
      }

      .progress-text {
        color: #78909c;
        font-size: 18px;
        margin-bottom: 20px;
      }

      /* –°—Ç–∏–ª—ñ –¥–ª—è –†–Ü–í–ù–Ø–ù–ù–Ø –í –û–î–ù–£ –õ–Ü–ù–Ü–Æ */
      .visual-equation {
        display: flex; /* –†–æ–±–∏—Ç—å –µ–ª–µ–º–µ–Ω—Ç–∏ –≤ —Ä—è–¥–æ–∫ */
        flex-direction: row; /* –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ */
        justify-content: center; /* –ü–æ —Ü–µ–Ω—Ç—Ä—É */
        align-items: center; /* –†—ñ–≤–Ω—è—î–º–æ –ø–æ –≤–∏—Å–æ—Ç—ñ */
        gap: 20px; /* –í—ñ–¥—Å—Ç—É–ø –º—ñ–∂ –∑–Ω–∞–∫–∞–º–∏ */

        font-size: 60px; /* –í–µ–ª–∏–∫–∏–π —Ä–æ–∑–º—ñ—Ä */
        margin: 30px 0;
        padding: 20px;
        background-color: #fffde7;
        border: 3px dashed #fbc02d;
        border-radius: 15px;
        white-space: nowrap; /* –ó–∞–±–æ—Ä–æ–Ω—è—î–º–æ –ø–µ—Ä–µ–Ω–æ—Å —Ä—è–¥–∫–∞ */
      }

      .mystery-box {
        background-color: #29b6f6;
        color: white;
        padding: 5px 20px;
        border-radius: 10px;
        animation: pulse 1.5s infinite;
        cursor: pointer;
      }

      .mr-x {
        color: #d32f2f;
        font-weight: bold;
        font-style: italic;
        font-size: 70px;
        animation: bounce 2s infinite;
      }

      /* –ê–Ω—ñ–º–∞—Ü—ñ—ó */
      @keyframes pulse {
        0% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.1);
        }
        100% {
          transform: scale(1);
        }
      }
      @keyframes bounce {
        0%,
        20%,
        50%,
        80%,
        100% {
          transform: translateY(0);
        }
        40% {
          transform: translateY(-10px);
        }
        60% {
          transform: translateY(-5px);
        }
      }

      /* –°—ñ—Ç–∫–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π: 4 –≤ —Ä—è–¥ */
      .answers-grid {
        display: grid;
        grid-template-columns: repeat(4, 1fr); /* 4 –∫–æ–ª–æ–Ω–∫–∏ –æ–¥–Ω–∞–∫–æ–≤–æ—ó —à–∏—Ä–∏–Ω–∏ */
        gap: 20px;
        margin-top: 40px;
      }

      button {
        background-color: #66bb6a;
        color: white;
        border: none;
        border-radius: 15px;
        padding: 20px 0;
        font-size: 32px;
        cursor: pointer;
        box-shadow: 0 6px 0 #388e3c;
        transition: transform 0.1s, background-color 0.2s;
        font-family: "Comic Sans MS", sans-serif;
      }

      button:hover {
        background-color: #81c784;
        transform: translateY(-4px);
        box-shadow: 0 10px 0 #388e3c;
      }

      button:active {
        transform: translateY(4px);
        box-shadow: none;
      }

      .correct-anim {
        background-color: #4caf50 !important;
        box-shadow: 0 6px 0 #2e7d32 !important;
      }
      .wrong-anim {
        background-color: #f44336 !important;
        box-shadow: 0 6px 0 #c62828 !important;
      }

      #end-screen {
        display: none;
      }
    </style>
  </head>
  <body>
    <div class="game-container" id="game-screen">
      <div class="level-header" id="level-indicator">–†–Ü–í–ï–ù–¨ 1</div>
      <div class="progress-text">–ó–∞–≤–¥–∞–Ω–Ω—è <span id="q-num">1</span> / 30</div>

      <div class="visual-equation" id="equation-display">–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è...</div>

      <div class="answers-grid" id="buttons-area"></div>
    </div>

    <div class="game-container" id="end-screen">
      <h1 style="font-size: 50px">üèÜ –ú–û–õ–û–î–ï–¶–¨! üèÜ</h1>
      <p style="font-size: 24px">–¢–∏ –ø—Ä–æ–π—à–ª–∞ –≤–µ—Å—å —Ç–µ—Å—Ç!</p>
      <h2
        id="final-score"
        style="font-size: 60px; color: #d32f2f; margin: 20px 0"
      ></h2>
      <button
        onclick="location.reload()"
        style="
          width: 300px;
          margin-top: 20px;
          background-color: #ff9800;
          box-shadow: 0 6px 0 #f57c00;
        "
      >
        –©–µ —Ä–∞–∑ üîÑ
      </button>
    </div>

    <script>
      const Q_MARK = "<span class='mystery-box'>?</span>";
      const MR_X = "<span class='mr-x'>x</span>";

      // –£–í–ê–ì–ê: –Ø –ø—Ä–∏–±—Ä–∞–≤ —É—Å—ñ —Ç–µ–≥–∏ <br> –∑ –∫–æ–¥—É, —â–æ–± –≤—Å–µ –±—É–ª–æ –≤ –æ–¥–∏–Ω —Ä—è–¥–æ–∫
      const questions = [
        // --- –†–Ü–í–ï–ù–¨ 1: –ú–∞–ª—é–Ω–∫–∏ (1-10) ---
        {
          html: `üê± + ${Q_MARK} = üê±üê±`,
          answers: ["1", "2", "3", "0"],
          correct: 0,
        },
        {
          html: `üçéüçé + ${Q_MARK} = üçéüçéüçé`,
          answers: ["1", "2", "3", "5"],
          correct: 0,
        },
        {
          html: `${Q_MARK} + ‚≠ê‚≠ê = ‚≠ê‚≠ê‚≠ê‚≠ê`,
          answers: ["1", "2", "5", "3"],
          correct: 1,
        },
        {
          html: `üç¨üç¨üç¨ + ${Q_MARK} = üç¨üç¨üç¨üç¨üç¨`,
          answers: ["2", "3", "4", "1"],
          correct: 0,
        },
        {
          html: `üöó + ${Q_MARK} = üöóüöó`,
          answers: ["1", "2", "10", "5"],
          correct: 0,
        },
        {
          html: `üå≥–õ–Ü–° + ${Q_MARK} = üå≥–õ–Ü–°–û–ö`,
          answers: ["–ê", "–ò–ö", "–û–ö", "–ö–ê"],
          correct: 2,
        },
        {
          html: `${Q_MARK} + üçå = üçåüçåüçå`,
          answers: ["1", "2", "3", "0"],
          correct: 1,
        },
        {
          html: `üêü–†–ò–ë + ${Q_MARK} = üêü–†–ò–ë–ê`,
          answers: ["–û–ö", "–ê", "–ò", "–Ø"],
          correct: 1,
        },
        {
          html: `${Q_MARK} + üéà = üéàüéà`,
          answers: ["1", "2", "3", "4"],
          correct: 0,
        },
        {
          html: `üçÑ + ${Q_MARK} = üçÑüçÑüçÑ`,
          answers: ["1", "2", "3", "4"],
          correct: 1,
        },

        // --- –†–Ü–í–ï–ù–¨ 2: –ö–∞—Ä—Ç–∏–Ω–∫–∏ + X (11-20) ---
        {
          html: `üê∂üê∂ + ${MR_X} = üê∂üê∂üê∂`,
          answers: ["1", "2", "3", "0"],
          correct: 0,
        },
        {
          html: `üç¶ + ${MR_X} = üç¶üç¶üç¶`,
          answers: ["1", "2", "3", "5"],
          correct: 1,
        },
        {
          html: `${MR_X} + üêû = üêûüêû`,
          answers: ["1", "2", "5", "3"],
          correct: 0,
        },
        {
          html: `üçïüçï + ${MR_X} = üçïüçïüçïüçï`,
          answers: ["2", "3", "1", "4"],
          correct: 0,
        },
        {
          html: `–°–ò–† + ${MR_X} = –°–ò–†–ù–ò–ö`,
          answers: ["–ù–ò–ö", "–û–ö", "–ö–ê", "–ê"],
          correct: 0,
        },
        {
          html: `${MR_X} + ‚öΩ = ‚öΩ‚öΩ‚öΩ`,
          answers: ["1", "2", "3", "4"],
          correct: 1,
        },
        {
          html: `üåµ + ${MR_X} = üåµüåµ`,
          answers: ["1", "2", "3", "0"],
          correct: 0,
        },
        {
          html: `–°–ê–î + ${MR_X} = –°–ê–î–û–ö`,
          answers: ["–û–ö", "–ò–ö", "–ö–ê", "–ê"],
          correct: 0,
        },
        {
          html: `${MR_X} + üçéüçé = üçéüçéüçéüçé`,
          answers: ["1", "2", "3", "4"],
          correct: 1,
        },
        {
          html: `üßÅüßÅ + ${MR_X} = üßÅüßÅüßÅ`,
          answers: ["1", "2", "3", "0"],
          correct: 0,
        },

        // --- –†–Ü–í–ï–ù–¨ 3: –ß–∏—Å–ª–∞ + X (21-30) ---
        { html: `1 + ${MR_X} = 2`, answers: ["1", "2", "3", "0"], correct: 0 },
        { html: `2 + ${MR_X} = 4`, answers: ["1", "2", "3", "4"], correct: 1 },
        { html: `${MR_X} + 1 = 3`, answers: ["1", "2", "3", "4"], correct: 1 },
        { html: `5 + ${MR_X} = 5`, answers: ["1", "5", "0", "10"], correct: 2 },
        {
          html: `10 + ${MR_X} = 11`,
          answers: ["1", "2", "10", "11"],
          correct: 0,
        },
        { html: `3 + ${MR_X} = 4`, answers: ["1", "2", "3", "7"], correct: 0 },
        { html: `${MR_X} + 2 = 5`, answers: ["2", "3", "4", "5"], correct: 1 },
        { html: `4 + ${MR_X} = 4`, answers: ["0", "4", "8", "1"], correct: 0 },
        { html: `${MR_X} + 1 = 2`, answers: ["1", "2", "0", "3"], correct: 0 },
        { html: `5 + ${MR_X} = 6`, answers: ["0", "1", "2", "3"], correct: 1 },
      ];

      let current = 0;
      let score = 0;

      function loadQ() {
        const levelBadge = document.getElementById("level-indicator");

        if (current < 10) {
          levelBadge.innerText = "–†–Ü–í–ï–ù–¨ 1: –ú–∞–ª—é–Ω–∫–∏ üé®";
          levelBadge.style.color = "#ff9800";
        } else if (current < 20) {
          levelBadge.innerText = "–†–Ü–í–ï–ù–¨ 2: –ú—ñ—Å—Ç–µ—Ä –Ü–ö–° üïµÔ∏è‚Äç‚ôÄÔ∏è";
          levelBadge.style.color = "#e91e63";
        } else {
          levelBadge.innerText = "–†–Ü–í–ï–ù–¨ 3: –ß–∏—Å–ª–∞ üî¢";
          levelBadge.style.color = "#2196f3";
        }

        const q = questions[current];
        document.getElementById("q-num").innerText = current + 1;
        document.getElementById("equation-display").innerHTML = q.html;

        const grid = document.getElementById("buttons-area");
        grid.innerHTML = "";

        q.answers.forEach((ans, index) => {
          const btn = document.createElement("button");
          btn.innerText = ans;
          btn.onclick = () => check(index, q.correct, btn);
          grid.appendChild(btn);
        });
      }

      function check(selected, correct, btn) {
        const allBtns = document.querySelectorAll("button");
        allBtns.forEach((b) => (b.disabled = true));

        if (selected === correct) {
          btn.classList.add("correct-anim");
          score++;
        } else {
          btn.classList.add("wrong-anim");
          const btns = document.querySelectorAll(".answers-grid button");
          btns[correct].classList.add("correct-anim");
        }

        setTimeout(() => {
          current++;
          if (current < questions.length) {
            loadQ();
          } else {
            finish();
          }
        }, 1200);
      }

      function finish() {
        document.getElementById("game-screen").style.display = "none";
        document.getElementById("end-screen").style.display = "block";
        document.getElementById("final-score").innerText = score + " / 30";
      }

      // –ó–∞–ø—É—Å–∫ –ø—ñ—Å–ª—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Å—Ç–æ—Ä—ñ–Ω–∫–∏
      window.onload = loadQ;
    </script>
  </body>
</html>
