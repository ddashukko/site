<!DOCTYPE html>
<html lang="uk">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Великий тест: Степінь з від'ємним показником</title>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script
      id="MathJax-script"
      async
      src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"
    ></script>
    <style>
      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        background-color: #f0f2f5;
        color: #1a1a1a;
        max-width: 800px;
        margin: 0 auto;
        padding: 20px;
      }
      h1 {
        text-align: center;
        color: #4a4e69;
        margin-bottom: 10px;
      }
      .subtitle {
        text-align: center;
        color: #666;
        margin-bottom: 30px;
      }
      .score-board {
        background: #fff;
        padding: 15px;
        border-radius: 12px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        margin-bottom: 25px;
        text-align: center;
        font-size: 1.4em;
        font-weight: bold;
        color: #22223b;
        position: sticky;
        top: 10px;
        z-index: 100;
        border: 1px solid #e0e0e0;
      }
      .question-card {
        background: #fff;
        padding: 25px;
        margin-bottom: 20px;
        border-radius: 12px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        border-left: 6px solid #9a8c98;
        transition: transform 0.2s;
      }
      .question-card:hover {
        transform: translateY(-2px);
      }
      .question-text {
        font-size: 1.15em;
        margin-bottom: 20px;
        font-weight: 500;
      }
      .options {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 10px;
      }
      @media (max-width: 600px) {
        .options {
          grid-template-columns: 1fr;
        }
      }
      .option-btn {
        padding: 12px 15px;
        text-align: left;
        background-color: #f8f9fa;
        border: 2px solid #e9ecef;
        border-radius: 8px;
        cursor: pointer;
        transition: all 0.2s;
        font-size: 1em;
        color: #333;
      }
      .option-btn:hover {
        background-color: #e2e6ea;
        border-color: #adb5bd;
      }
      .option-btn.correct {
        background-color: #d1e7dd;
        border-color: #198754;
        color: #0f5132;
        cursor: default;
      }
      .option-btn.incorrect {
        background-color: #f8d7da;
        border-color: #dc3545;
        color: #842029;
        cursor: default;
      }
      .feedback {
        margin-top: 15px;
        padding: 15px;
        border-radius: 8px;
        display: none;
        font-size: 0.95em;
        line-height: 1.5;
      }
      .section-title {
        margin: 40px 0 20px 0;
        padding-bottom: 10px;
        border-bottom: 2px solid #c9ada7;
        color: #4a4e69;
        font-size: 1.3em;
      }
      .disabled {
        pointer-events: none;
        opacity: 0.6;
      }
    </style>
  </head>
  <body>
    <h1>Перевірка знань</h1>
    <div class="subtitle">
      Степінь із цілим від'ємним показником (15 питань)
    </div>

    <div class="score-board">Ваш результат: <span id="score">0</span> / 15</div>

    <div id="quiz-container"></div>

    <script>
      window.MathJax = {
        tex: {
          inlineMath: [
            ["$", "$"],
            ["\\(", "\\)"],
          ],
        },
      };

      const questions = [
        // I. Цілі основи
        {
          section: "I. Обчислення (цілі основи)",
          text: "Запишіть $4^{-3}$ у вигляді звичайного дробу.",
          options: [
            {
              text: "$\\frac{1}{64}$",
              correct: true,
              info: "Правильно! $4^3 = 64$, тому $4^{-3} = \\frac{1}{64}$.",
            },
            {
              text: "$\\frac{1}{12}$",
              correct: false,
              info: "Помилка. $4^3$ це $4 \\cdot 4 \\cdot 4$, а не $4 \\cdot 3$.",
            },
            {
              text: "$-64$",
              correct: false,
              info: "Помилка. Від'ємний показник не робить число від'ємним.",
            },
            { text: "$-12$", correct: false, info: "Помилка." },
          ],
        },
        {
          section: "I. Обчислення (цілі основи)",
          text: "Обчисліть значення виразу $(-2)^{-3}$.",
          options: [
            {
              text: "$-\\frac{1}{8}$",
              correct: true,
              info: "Правильно. Степінь непарний, тому мінус зберігається: $\\frac{1}{(-2)^3} = \\frac{1}{-8}$.",
            },
            {
              text: "$\\frac{1}{8}$",
              correct: false,
              info: "Помилка. Показник 3 — непарний, мінус не зникає.",
            },
            {
              text: "$8$",
              correct: false,
              info: "Помилка. Ви забули перевернути число.",
            },
            { text: "$-6$", correct: false, info: "Помилка." },
          ],
        },
        {
          section: "I. Обчислення (цілі основи)",
          text: "Обчисліть: $-5^{-2}$. (Увага на знак перед числом!)",
          options: [
            {
              text: "$-\\frac{1}{25}$",
              correct: true,
              info: "Супер! Мінус стоїть перед степенем і не підноситься до квадрата.",
            },
            {
              text: "$\\frac{1}{25}$",
              correct: false,
              info: "Помилка. Цей мінус не зникає, бо він не в дужках.",
            },
            { text: "$25$", correct: false, info: "Помилка." },
            { text: "$-10$", correct: false, info: "Помилка." },
          ],
        },
        {
          section: "I. Обчислення (цілі основи)",
          text: "Чому дорівнює $(-1)^{-10}$?",
          options: [
            {
              text: "$1$",
              correct: true,
              info: "Правильно. Показник 10 парний, тому результат додатний.",
            },
            {
              text: "$-1$",
              correct: false,
              info: "Помилка. Парний степінь «з'їдає» мінус.",
            },
            {
              text: "$\\frac{1}{10}$",
              correct: false,
              info: "Помилка. Одиниця в будь-якому степені — це 1.",
            },
            { text: "$-10$", correct: false, info: "Помилка." },
          ],
        },
        {
          section: "I. Обчислення (цілі основи)",
          text: "Чому дорівнює $(-1)^{-15}$?",
          options: [
            {
              text: "$-1$",
              correct: true,
              info: "Правильно. Показник 15 непарний, мінус залишається.",
            },
            {
              text: "$1$",
              correct: false,
              info: "Помилка. Непарний степінь зберігає знак.",
            },
            { text: "$\\frac{1}{15}$", correct: false, info: "Помилка." },
            { text: "$-15$", correct: false, info: "Помилка." },
          ],
        },
        // II. Дроби
        {
          section: "II. Дроби та десяткові числа",
          text: "Обчисліть: $\\left(\\frac{1}{3}\\right)^{-2}$.",
          options: [
            {
              text: "$9$",
              correct: true,
              info: "Правильно. Перевертаємо: $3^2 = 9$.",
            },
            {
              text: "$\\frac{1}{9}$",
              correct: false,
              info: "Помилка. Ви забули перевернути дріб.",
            },
            {
              text: "$-9$",
              correct: false,
              info: "Помилка. Квадрат числа завжди додатний.",
            },
            { text: "$6$", correct: false, info: "Помилка." },
          ],
        },
        {
          section: "II. Дроби та десяткові числа",
          text: "Обчисліть: $\\left(\\frac{2}{3}\\right)^{-3}$.",
          options: [
            {
              text: "$\\frac{27}{8}$",
              correct: true,
              info: "Правильно! Перевертаємо дріб $\\frac{3}{2}$ і підносимо до куба.",
            },
            {
              text: "$\\frac{8}{27}$",
              correct: false,
              info: "Помилка. Ви не використали властивість від'ємного показника.",
            },
            {
              text: "$\\frac{6}{9}$",
              correct: false,
              info: "Помилка при піднесенні до степеня.",
            },
            {
              text: "$-\\frac{27}{8}$",
              correct: false,
              info: "Помилка. Основа була додатною, результат теж додатний.",
            },
          ],
        },
        {
          section: "II. Дроби та десяткові числа",
          text: "Знайдіть значення виразу: $0{,}5^{-2}$.",
          options: [
            {
              text: "$4$",
              correct: true,
              info: "Правильно! $0{,}5 = \\frac{1}{2}$, перевертаємо $\\to 2^2 = 4$.",
            },
            { text: "$0{,}25$", correct: false, info: "Помилка." },
            { text: "$-1$", correct: false, info: "Помилка." },
            { text: "$1$", correct: false, info: "Помилка." },
          ],
        },
        {
          section: "II. Дроби та десяткові числа",
          text: "Знайдіть значення виразу: $0{,}1^{-3}$.",
          options: [
            {
              text: "$1000$",
              correct: true,
              info: "Правильно! $0{,}1 = \\frac{1}{10}$, перевертаємо $\\to 10^3 = 1000$.",
            },
            {
              text: "$0{,}001$",
              correct: false,
              info: "Помилка. Це $0{,}1^3$.",
            },
            { text: "$30$", correct: false, info: "Помилка." },
            {
              text: "$-1000$",
              correct: false,
              info: "Помилка. Основа додатна.",
            },
          ],
        },
        {
          section: "II. Дроби та десяткові числа",
          text: "Обчисліть: $\\left(1\\frac{1}{2}\\right)^{-1}$.",
          options: [
            {
              text: "$\\frac{2}{3}$",
              correct: true,
              info: "Правильно! $1\\frac{1}{2} = \\frac{3}{2}$. Степінь -1 перевертає дріб.",
            },
            { text: "$\\frac{3}{2}$", correct: false, info: "Помилка." },
            { text: "$-\\frac{2}{3}$", correct: false, info: "Помилка." },
            { text: "$1$", correct: false, info: "Помилка." },
          ],
        },
        // III. Алгебра
        {
          section: "III. Перетворення виразів (Алгебра)",
          text: "Подайте $\\frac{1}{x^6}$ у вигляді степеня з від'ємним показником.",
          options: [
            { text: "$x^{-6}$", correct: true, info: "Вірно." },
            { text: "$x^6$", correct: false, info: "Помилка." },
            { text: "$-x^6$", correct: false, info: "Помилка." },
            { text: "$x^{1/6}$", correct: false, info: "Помилка." },
          ],
        },
        {
          section: "III. Перетворення виразів (Алгебра)",
          text: "Запишіть вираз $m^{-5}$ у вигляді дробу.",
          options: [
            { text: "$\\frac{1}{m^5}$", correct: true, info: "Вірно." },
            { text: "$\\frac{1}{5m}$", correct: false, info: "Помилка." },
            { text: "$-m^5$", correct: false, info: "Помилка." },
            { text: "$\\frac{m}{5}$", correct: false, info: "Помилка." },
          ],
        },
        {
          section: "III. Перетворення виразів (Алгебра)",
          text: "Запишіть вираз $7a^{-2}$ у вигляді дробу. (Будьте уважні!)",
          options: [
            {
              text: "$\\frac{7}{a^2}$",
              correct: true,
              info: "Чудово! Степінь -2 стосується тільки $a$, сімка залишається зверху.",
            },
            {
              text: "$\\frac{1}{7a^2}$",
              correct: false,
              info: "Помилка. Степінь не стосується числа 7.",
            },
            {
              text: "$\\frac{1}{49a^2}$",
              correct: false,
              info: "Помилка. 7 не в дужках і не в квадраті.",
            },
            { text: "$7a^2$", correct: false, info: "Помилка." },
          ],
        },
        {
          section: "III. Перетворення виразів (Алгебра)",
          text: "Запишіть вираз $(a+b)^{-1}$ у вигляді дробу.",
          options: [
            {
              text: "$\\frac{1}{a+b}$",
              correct: true,
              info: "Вірно. Весь вираз у дужках йде у знаменник.",
            },
            {
              text: "$\\frac{1}{a} + \\frac{1}{b}$",
              correct: false,
              info: "Помилка. $(a+b)^{-1} \\neq a^{-1} + b^{-1}$.",
            },
            { text: "$-a-b$", correct: false, info: "Помилка." },
            { text: "$a-b$", correct: false, info: "Помилка." },
          ],
        },
        // IV. Логіка
        {
          section: "IV. Порівняння",
          text: "Що більше: $2^{-3}$ чи $2^{-2}$?",
          options: [
            {
              text: "$2^{-2}$ більше",
              correct: true,
              info: "Правильно! $\\frac{1}{4}$ (0,25) більше, ніж $\\frac{1}{8}$ (0,125).",
            },
            {
              text: "$2^{-3}$ більше",
              correct: false,
              info: "Помилка. 3 більше за 2, але для знаменників дробів все навпаки.",
            },
            { text: "Вони рівні", correct: false, info: "Помилка." },
            { text: "Неможливо порівняти", correct: false, info: "Помилка." },
          ],
        },
      ];

      let score = 0;
      const quizContainer = document.getElementById("quiz-container");
      const scoreDisplay = document.getElementById("score");

      let currentSection = "";

      questions.forEach((q, index) => {
        // Додавання заголовка розділу, якщо він змінився
        if (q.section !== currentSection) {
          const sectionHeader = document.createElement("div");
          sectionHeader.className = "section-title";
          sectionHeader.textContent = q.section;
          quizContainer.appendChild(sectionHeader);
          currentSection = q.section;
        }

        const card = document.createElement("div");
        card.className = "question-card";

        const title = document.createElement("div");
        title.className = "question-text";
        title.innerHTML = `<strong>${index + 1}.</strong> ${q.text}`;
        card.appendChild(title);

        const optionsList = document.createElement("div");
        optionsList.className = "options";

        q.options.forEach((opt) => {
          const btn = document.createElement("button");
          btn.className = "option-btn";
          btn.innerHTML = opt.text;

          btn.onclick = function () {
            const buttons = optionsList.querySelectorAll(".option-btn");
            buttons.forEach((b) => b.classList.add("disabled"));

            const feedback = document.createElement("div");
            feedback.className = "feedback";
            feedback.style.display = "block";

            if (opt.correct) {
              btn.classList.add("correct");
              score++;
              scoreDisplay.textContent = score;
              feedback.innerHTML = `<strong>✅ Правильно!</strong> ${opt.info}`;
              feedback.style.color = "#0f5132";
              feedback.style.backgroundColor = "#d1e7dd";
            } else {
              btn.classList.add("incorrect");
              feedback.innerHTML = `<strong>❌ Неправильно.</strong> ${opt.info}`;
              feedback.style.color = "#842029";
              feedback.style.backgroundColor = "#f8d7da";

              // Показати правильну відповідь
              buttons.forEach((b) => {
                q.options.forEach((o) => {
                  if (o.correct && b.innerHTML === o.text) {
                    b.classList.add("correct");
                  }
                });
              });
            }
            card.appendChild(feedback);
            MathJax.typesetPromise();
          };
          optionsList.appendChild(btn);
        });

        card.appendChild(optionsList);
        quizContainer.appendChild(card);
      });
    </script>
  </body>
</html>
