<!DOCTYPE html>
<html lang="uk">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>–£—Ä–æ–∫: –§—É–Ω–∫—Ü—ñ—è y = x¬≤ | Dasha Tutor</title>
    <style>
      body {
        font-family: "Segoe UI", sans-serif;
        background: #f0f2f5;
        display: flex;
        flex-direction: column;
        align-items: center;
        padding: 20px;
        margin: 0;
      }
      .lesson-container {
        background: white;
        max-width: 800px;
        width: 100%;
        border-radius: 15px;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        overflow: hidden;
        position: relative;
        display: flex;
        flex-direction: column;
      }

      /* –ó–æ–Ω–∞ –∫–∞—Ä—Ç–∏–Ω–∫–∏ */
      .image-area {
        position: relative;
        width: 100%;
        text-align: center;
        background: #fafafa;
        border-bottom: 2px solid #eee;
        min-height: 250px;
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .task-image {
        max-width: 100%;
        max-height: 50vh;
        display: block;
        margin: 0 auto;
        user-select: none;
        pointer-events: none;
      }

      /* –ú–∞–ª—é–≤–∞–Ω–Ω—è */
      canvas {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        cursor: crosshair;
        touch-action: none;
      }

      /* –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è */
      .controls-area {
        padding: 20px;
        text-align: center;
        flex-grow: 1;
      }
      h2 {
        margin-top: 0;
        color: #444;
        font-size: 1.3em;
        margin-bottom: 20px;
        line-height: 1.4;
      }

      /* –°—Ç–∏–ª—å –¥–ª—è —Ç–µ–æ—Ä–µ—Ç–∏—á–Ω–æ—ó –≤—Å—Ç–∞–≤–∫–∏ */
      .theory-note {
        font-size: 0.9em;
        color: #555;
        font-weight: normal;
        display: block;
        margin-bottom: 12px;
        background: #e6f3ff;
        padding: 10px;
        border-radius: 8px;
        border-left: 4px solid #007bff;
        text-align: left;
      }

      .mode {
        display: none;
        margin-bottom: 20px;
      }
      .mode.active {
        display: block;
      }

      /* Input */
      input[type="text"] {
        padding: 10px;
        font-size: 1.2em;
        border: 2px solid #ddd;
        border-radius: 8px;
        width: 150px;
        text-align: center;
      }
      .check-btn {
        padding: 10px 20px;
        font-size: 1.1em;
        background: #28a745;
        color: white;
        border: none;
        border-radius: 8px;
        cursor: pointer;
        margin-left: 10px;
      }

      /* Choice buttons */
      .options-grid {
        display: flex;
        justify-content: center;
        gap: 10px;
        flex-wrap: wrap;
      }
      .option-btn {
        padding: 12px 25px;
        font-size: 1.1em;
        background: #e9ecef;
        border: 2px solid #dee2e6;
        border-radius: 8px;
        cursor: pointer;
        transition: 0.2s;
      }
      .option-btn:hover {
        background: #dee2e6;
      }
      .option-btn.correct {
        background: #d4edda;
        border-color: #28a745;
        color: #155724;
      }
      .option-btn.wrong {
        background: #f8d7da;
        border-color: #dc3545;
        color: #721c24;
      }

      /* Drawing tools */
      .draw-tools {
        display: flex;
        gap: 10px;
        justify-content: center;
        margin-bottom: 10px;
      }
      .tool-btn {
        padding: 8px 15px;
        background: #6c757d;
        color: white;
        border: none;
        border-radius: 5px;
        cursor: pointer;
      }
      .tool-btn.active {
        background: #007bff;
      }
      .tool-btn.clear {
        background: #dc3545;
      }

      #feedback {
        margin: 15px 0;
        font-weight: bold;
        font-size: 1.2em;
        min-height: 1.5em;
      }

      /* Navigation */
      .nav-buttons {
        display: flex;
        justify-content: space-between;
        margin-top: 20px;
        padding-top: 20px;
        border-top: 1px solid #eee;
      }
      .nav-btn {
        padding: 10px 20px;
        border: none;
        border-radius: 8px;
        background: #007bff;
        color: white;
        font-size: 1em;
        cursor: pointer;
      }
      .nav-btn:disabled {
        background: #ccc;
        cursor: not-allowed;
      }
      .progress {
        color: #888;
        font-size: 0.9em;
        margin-top: 5px;
      }
    </style>
  </head>
  <body>
    <div class="lesson-container">
      <div class="image-area" id="imageContainer">
        <img src="" id="lessonImage" class="task-image" alt="–ó–∞–≤–¥–∞–Ω–Ω—è" />
        <canvas id="drawCanvas"></canvas>
      </div>

      <div class="controls-area">
        <div class="progress" id="progressText">–ó–∞–≤–¥–∞–Ω–Ω—è 1 –∑ 10</div>
        <h2 id="taskTitle">–ó–∞–≤–¥–∞–Ω–Ω—è</h2>

        <div id="mode-input" class="mode">
          <input type="text" id="userAnswer" placeholder="..." />
          <button class="check-btn" onclick="checkInput()">–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏</button>
        </div>

        <div id="mode-choice" class="mode">
          <div class="options-grid" id="optionsContainer"></div>
        </div>

        <div id="mode-draw" class="mode">
          <div class="draw-tools">
            <button class="tool-btn active" onclick="setTool('pen')">
              ‚úèÔ∏è –û–ª—ñ–≤–µ—Ü—å
            </button>
            <button class="tool-btn" onclick="setTool('eraser')">
              üßº –ì—É–º–∫–∞
            </button>
            <button class="tool-btn clear" onclick="clearCanvas()">
              üóë –û—á–∏—Å—Ç–∏—Ç–∏
            </button>
          </div>
          <p style="color: #666; font-size: 0.9em">
            –ú–∞–ª—é–π –≥—Ä–∞—Ñ—ñ–∫ –∞–±–æ —Ä–æ–∑–≤'—è–∑–æ–∫ –ø—Ä—è–º–æ –Ω–∞ –µ–∫—Ä–∞–Ω—ñ.
          </p>
        </div>

        <div id="feedback"></div>

        <div class="nav-buttons">
          <button class="nav-btn" id="prevBtn" onclick="changeSlide(-1)">
            ‚Üê –ù–∞–∑–∞–¥
          </button>
          <button class="nav-btn" id="nextBtn" onclick="changeSlide(1)">
            –î–∞–ª—ñ ‚Üí
          </button>
        </div>
      </div>
    </div>

    <script>
      // ==========================================================
      // –ë–ê–ó–ê –î–ê–ù–ò–• –£–†–û–ö–£ (–ü–æ—Ä—è–¥–æ–∫ —Ñ–∞–π–ª—ñ–≤ 13.1 -> 13.18)
      // ==========================================================
      const lessonData = [
        {
          id: 1,
          image: "C:/Users/TUF/Desktop/project/site/images/13.1.png",
          type: "choice",
          correctAnswer: "3",
          options: ["1", "2", "3", "4", "5", "6"],
          title:
            "<span class='theory-note'>–¢–µ–æ—Ä—ñ—è: –§—É–Ω–∫—Ü—ñ—è –≤–∏–≥–ª—è–¥—É y = x¬≤ –Ω–∞–∑–∏–≤–∞—î—Ç—å—Å—è –∫–≤–∞–¥—Ä–∞—Ç–∏—á–Ω–æ—é, –∞ —ó—ó –≥—Ä–∞—Ñ—ñ–∫ ‚Äî –ø–∞—Ä–∞–±–æ–ª–æ—é.</span>–û–±–µ—Ä—ñ—Ç—å –Ω–æ–º–µ—Ä —Ñ–æ—Ä–º—É–ª–∏, —â–æ –∑–∞–¥–∞—î –ø–∞—Ä–∞–±–æ–ª—É:",
        },
        {
          id: 2,
          image: "C:/Users/TUF/Desktop/project/site/images/13.2.png",
          type: "input",
          correctAnswer: "16",
          title:
            "<span class='theory-note'>–ü—Ä–∞–∫—Ç–∏–∫–∞: –©–æ–± –∑–Ω–∞–π—Ç–∏ –∑–Ω–∞—á–µ–Ω–Ω—è —Ñ—É–Ω–∫—Ü—ñ—ó (y), –ø—ñ–¥—Å—Ç–∞–≤—Ç–µ –∑–Ω–∞—á–µ–Ω–Ω—è –∞—Ä–≥—É–º–µ–Ω—Ç—É (x) —É —Ñ–æ—Ä–º—É–ª—É.</span>–û–±—á–∏—Å–ª—ñ—Ç—å y, —è–∫—â–æ x = -4.",
        },
        {
          id: 3,
          image: "C:/Users/TUF/Desktop/project/site/images/13.4.png",
          type: "input",
          correctAnswer: "3",
          title:
            "<span class='theory-note'>–†–æ–±–æ—Ç–∞ –∑ –≥—Ä–∞—Ñ—ñ–∫–æ–º: –ú–æ–∂–Ω–∞ –∑–Ω–∞—Ö–æ–¥–∏—Ç–∏ –∞—Ä–≥—É–º–µ–Ω—Ç (x) –∑–∞ –≤—ñ–¥–æ–º–∏–º –∑–Ω–∞—á–µ–Ω–Ω—è–º —Ñ—É–Ω–∫—Ü—ñ—ó (y).</span>–ó–Ω–∞–π–¥—ñ—Ç—å –∑–∞ –≥—Ä–∞—Ñ—ñ–∫–æ–º –¥–æ–¥–∞—Ç–Ω—î –∑–Ω–∞—á–µ–Ω–Ω—è x, —è–∫—â–æ y = 9.",
        },
        {
          id: 4,
          image: "C:/Users/TUF/Desktop/project/site/images/13.6.png",
          type: "draw",
          title:
            "<span class='theory-note'>–ü–æ–±—É–¥–æ–≤–∞: –ì—Ä–∞—Ñ—ñ–∫ –±—É–¥—É—î—Ç—å—Å—è –ø–æ —Ç–æ—á–∫–∞—Ö. –ü–∞—Ä–∞–±–æ–ª–∞ —Å–∏–º–µ—Ç—Ä–∏—á–Ω–∞ –≤—ñ–¥–Ω–æ—Å–Ω–æ –æ—Å—ñ Y.</span>–ü–æ–±—É–¥—É–π—Ç–µ –≥—Ä–∞—Ñ—ñ–∫ —Ñ—É–Ω–∫—Ü—ñ—ó –Ω–∞ –ø—Ä–æ–º—ñ–∂–∫—É –≤—ñ–¥ -2 –¥–æ 3.",
        },
        {
          id: 5,
          image: "C:/Users/TUF/Desktop/project/site/images/13.8.png",
          type: "choice",
          correctAnswer: "–¢–∞–∫",
          options: ["–¢–∞–∫", "–ù—ñ"],
          title:
            "<span class='theory-note'>–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞: –¢–æ—á–∫–∞ –Ω–∞–ª–µ–∂–∏—Ç—å –≥—Ä–∞—Ñ—ñ–∫—É, —è–∫—â–æ —ó—ó –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∏ –∑–∞–¥–æ–≤–æ–ª—å–Ω—è—é—Ç—å —Ä—ñ–≤–Ω—è–Ω–Ω—è y = x¬≤.</span>–ß–∏ –ø—Ä–æ—Ö–æ–¥–∏—Ç—å –≥—Ä–∞—Ñ—ñ–∫ —á–µ—Ä–µ–∑ —Ç–æ—á–∫—É A(-3; 9)? (–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ: —á–∏ –¥–æ—Ä—ñ–≤–Ω—é—î 9 –∫–≤–∞–¥—Ä–∞—Ç—É —á–∏—Å–ª–∞ -3?)",
        },
        {
          id: 6,
          image: "C:/Users/TUF/Desktop/project/site/images/13.12.png",
          type: "draw",
          title:
            "<span class='theory-note'>–ì—Ä–∞—Ñ—ñ—á–Ω–∏–π –º–µ—Ç–æ–¥: –†—ñ–≤–Ω—è–Ω–Ω—è x¬≤ = f(x) —Ä–æ–∑–≤'—è–∑—É—î—Ç—å—Å—è —à–ª—è—Ö–æ–º –∑–Ω–∞—Ö–æ–¥–∂–µ–Ω–Ω—è —Ç–æ—á–æ–∫ –ø–µ—Ä–µ—Ç–∏–Ω—É –≥—Ä–∞—Ñ—ñ–∫—ñ–≤.</span>–ù–∞–∫—Ä–µ—Å–ª—ñ—Ç—å –ø–∞—Ä–∞–±–æ–ª—É y=x¬≤ —Ç–∞ –≥—ñ–ø–µ—Ä–±–æ–ª—É y=8/x —ñ –∑–Ω–∞–π–¥—ñ—Ç—å —Ç–æ—á–∫—É –ø–µ—Ä–µ—Ç–∏–Ω—É.",
        },
        {
          id: 7,
          image: "C:/Users/TUF/Desktop/project/site/images/13.14.png",
          type: "draw",
          title:
            "<span class='theory-note'>–£—Å–∫–ª–∞–¥–Ω–µ–Ω–Ω—è: –ü–µ—Ä–µ–¥ –ø–æ–±—É–¥–æ–≤–æ—é —Å–ø—Ä–æ—Å—Ç—ñ—Ç—å –≤–∏—Ä–∞–∑, –∞–ª–µ –≤—Ä–∞—Ö—É–π—Ç–µ –û–î–ó (–Ω–∞ –∑–Ω–∞–º–µ–Ω–Ω–∏–∫ –¥—ñ–ª–∏—Ç–∏ –Ω–µ –º–æ–∂–Ω–∞).</span>–°–ø—Ä–æ—Å—Ç—ñ—Ç—å –≤–∏—Ä–∞–∑ ‚Ññ1 —ñ –ø–æ–±—É–¥—É–π—Ç–µ –≥—Ä–∞—Ñ—ñ–∫ (–≤–∏–∫–æ–ª–æ—Ç–∞ —Ç–æ—á–∫–∞!).",
        },
        {
          id: 8,
          image: "C:/Users/TUF/Desktop/project/site/images/13.16.png",
          type: "choice",
          correctAnswer: "–¢–∞–∫",
          options: ["–¢–∞–∫", "–ù—ñ"],
          title:
            "<span class='theory-note'>–í–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ: –ö–≤–∞–¥—Ä–∞—Ç –±—É–¥—å-—è–∫–æ–≥–æ —á–∏—Å–ª–∞ –¥–æ—Ä—ñ–≤–Ω—é—î –∫–≤–∞–¥—Ä–∞—Ç—É –π–æ–≥–æ –º–æ–¥—É–ª—è.</span>–ß–∏ —Å–ø—Ä–∞–≤–¥–∂—É—î—Ç—å—Å—è —Ä—ñ–≤–Ω—ñ—Å—Ç—å (-a)¬≤ = |a|¬≤ ?",
        },
        {
          id: 9,
          image: "C:/Users/TUF/Desktop/project/site/images/13.17.png",
          type: "input",
          correctAnswer: "-10",
          title:
            "<span class='theory-note'>–ï–∫—Å—Ç—Ä–µ–º—É–º–∏: –ù–∞–π–º–µ–Ω—à–µ –∑–Ω–∞—á–µ–Ω–Ω—è –≤–∏—Ä–∞–∑—É x¬≤ –¥–æ—Ä—ñ–≤–Ω—é—î 0.</span>–ó–Ω–∞–π–¥—ñ—Ç—å –Ω–∞–π–º–µ–Ω—à–µ –∑–Ω–∞—á–µ–Ω–Ω—è –≤–∏—Ä–∞–∑—É ‚Ññ1: x¬≤ - 10.",
        },
        {
          id: 10,
          image: "C:/Users/TUF/Desktop/project/site/images/13.18.png",
          type: "input",
          correctAnswer: "241",
          title:
            "<span class='theory-note'>–ó–∞–∫—Ä—ñ–ø–ª–µ–Ω–Ω—è: –û–±—á–∏—Å–ª–µ–Ω–Ω—è –∑–Ω–∞—á–µ–Ω—å –≤–∏—Ä–∞–∑—ñ–≤ –∑—ñ —Å—Ç–µ–ø–µ–Ω—è–º–∏.</span>–û–±—á–∏—Å–ª—ñ—Ç—å –ø—Ä–∏–∫–ª–∞–¥ ‚Ññ1: 15¬≤ + (-4)¬≤.",
        },
      ];

      // ==========================================================
      // –õ–û–ì–Ü–ö–ê –ü–†–û–ì–†–ê–ú–ò
      // ==========================================================
      let currentSlideIndex = 0;
      let img = document.getElementById("lessonImage");
      let feedback = document.getElementById("feedback");
      let isDrawing = false;
      let ctx;
      let tool = "pen";

      window.onload = function () {
        loadSlide(0);
        setupCanvas();
      };

      function loadSlide(index) {
        currentSlideIndex = index;
        const data = lessonData[index];

        document.getElementById("progressText").innerText = `–ó–∞–≤–¥–∞–Ω–Ω—è ${
          index + 1
        } –∑ ${lessonData.length}`;
        document.getElementById("prevBtn").disabled = index === 0;
        document.getElementById("nextBtn").disabled =
          index === lessonData.length - 1;

        img.src = data.image;
        document.getElementById("taskTitle").innerHTML = data.title;
        feedback.innerHTML = "";
        document.getElementById("userAnswer").value = "";

        // –°–∫–∏–¥–∞–Ω–Ω—è —Ä–µ–∂–∏–º—ñ–≤
        document
          .querySelectorAll(".mode")
          .forEach((el) => el.classList.remove("active"));
        document.getElementById("drawCanvas").style.display = "none";

        if (data.type === "input") {
          document.getElementById("mode-input").classList.add("active");
        } else if (data.type === "choice") {
          document.getElementById("mode-choice").classList.add("active");
          renderOptions(data.options);
        } else if (data.type === "draw") {
          document.getElementById("mode-draw").classList.add("active");
          document.getElementById("drawCanvas").style.display = "block";
          clearCanvas();
        }
      }

      function changeSlide(direction) {
        const newIndex = currentSlideIndex + direction;
        if (newIndex >= 0 && newIndex < lessonData.length) {
          loadSlide(newIndex);
        }
      }

      function checkInput() {
        const data = lessonData[currentSlideIndex];
        const val = document
          .getElementById("userAnswer")
          .value.trim()
          .toLowerCase();
        const cleanVal = val.replace(",", ".");
        const cleanCorrect = data.correctAnswer
          .toString()
          .toLowerCase()
          .replace(",", ".");

        if (cleanVal === cleanCorrect) {
          feedback.innerHTML =
            "<span style='color:green'>‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ! –ú–æ–ª–æ–¥–µ—Ü—å!</span>";
        } else {
          feedback.innerHTML =
            "<span style='color:red'>‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ, —Å–ø—Ä–æ–±—É–π —â–µ.</span>";
        }
      }

      function renderOptions(options) {
        const container = document.getElementById("optionsContainer");
        container.innerHTML = "";
        options.forEach((opt) => {
          const btn = document.createElement("button");
          btn.className = "option-btn";
          btn.innerText = opt;
          btn.onclick = () => checkChoice(btn, opt);
          container.appendChild(btn);
        });
      }

      function checkChoice(btn, value) {
        const data = lessonData[currentSlideIndex];
        if (
          btn.classList.contains("correct") ||
          btn.classList.contains("wrong")
        )
          return;

        if (value.toString() === data.correctAnswer.toString()) {
          btn.classList.add("correct");
          feedback.innerHTML = "<span style='color:green'>‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ!</span>";
        } else {
          btn.classList.add("wrong");
          feedback.innerHTML = "<span style='color:red'>‚ùå –ü–æ–º–∏–ª–∫–∞.</span>";
        }
      }

      // --- –õ–û–ì–Ü–ö–ê –ú–ê–õ–Æ–í–ê–ù–ù–Ø ---
      function setupCanvas() {
        const canvas = document.getElementById("drawCanvas");

        img.onload = () => resizeCanvas();
        window.addEventListener("resize", resizeCanvas);

        ctx = canvas.getContext("2d");
        ctx.lineWidth = 3;
        ctx.lineCap = "round";
        ctx.strokeStyle = "#df4b26";

        canvas.onmousedown = startDraw;
        canvas.onmousemove = draw;
        canvas.onmouseup = stopDraw;
        canvas.onmouseleave = stopDraw;

        canvas.ontouchstart = (e) => {
          e.preventDefault();
          startDraw(e.touches[0]);
        };
        canvas.ontouchmove = (e) => {
          e.preventDefault();
          draw(e.touches[0]);
        };
        canvas.ontouchend = stopDraw;
      }

      function resizeCanvas() {
        const canvas = document.getElementById("drawCanvas");
        if (img.clientHeight > 0) {
          canvas.width = img.clientWidth;
          canvas.height = img.clientHeight;
          ctx.lineWidth = 3;
          ctx.lineCap = "round";
          ctx.strokeStyle = "#df4b26";
        }
      }

      function startDraw(e) {
        isDrawing = true;
        ctx.beginPath();
        const rect = e.target.getBoundingClientRect();
        ctx.moveTo(e.clientX - rect.left, e.clientY - rect.top);
      }

      function draw(e) {
        if (!isDrawing) return;
        const rect = e.target.getBoundingClientRect();
        const x = e.clientX - rect.left;
        const y = e.clientY - rect.top;

        if (tool === "eraser") {
          ctx.clearRect(x - 15, y - 15, 30, 30);
        } else {
          ctx.lineTo(x, y);
          ctx.stroke();
        }
      }

      function stopDraw() {
        isDrawing = false;
      }

      function setTool(t) {
        tool = t;
        document
          .querySelectorAll(".tool-btn")
          .forEach((b) => b.classList.remove("active"));
        event.target.classList.add("active");
      }

      function clearCanvas() {
        const canvas = document.getElementById("drawCanvas");
        ctx.clearRect(0, 0, canvas.width, canvas.height);
      }
    </script>
  </body>
</html>
