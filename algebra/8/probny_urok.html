<!DOCTYPE html>
<html lang="uk">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>–î—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ + –î–æ—à–∫–∞</title>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script
      id="MathJax-script"
      async
      src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"
    ></script>
    <style>
      :root {
        --primary: #2c3e50;
        --accent: #2980b9;
        --bg: #f0f2f5;
        --grid-color: #e0e0e0;
      }

      body {
        font-family: "Segoe UI", sans-serif;
        margin: 0;
        padding: 0;
        overflow: hidden; /* –©–æ–± –Ω–µ –±—É–ª–æ –ø–æ–¥–≤—ñ–π–Ω–æ–≥–æ —Å–∫—Ä–æ–ª—É */
        height: 100vh;
        display: flex;
      }

      /* --- –õ–Ü–í–ê –ü–ê–ù–ï–õ–¨ (–ó–ê–í–î–ê–ù–ù–Ø) --- */
      .left-panel {
        width: 50%;
        height: 100%;
        overflow-y: auto; /* –°–∫—Ä–æ–ª–∏—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ —Ü—è —á–∞—Å—Ç–∏–Ω–∞ */
        background-color: var(--bg);
        padding: 20px;
        box-sizing: border-box;
        border-right: 2px solid #ccc;
      }

      /* --- –ü–†–ê–í–ê –ü–ê–ù–ï–õ–¨ (–î–û–®–ö–ê) --- */
      .right-panel {
        width: 50%;
        height: 100%;
        position: relative;
        background-color: #ffffff;
        /* –ú–∞–ª—é—î–º–æ –∫–ª—ñ—Ç–∏–Ω–∫—É CSS –≥—Ä–∞–¥—ñ—î–Ω—Ç–∞–º–∏ */
        background-image: linear-gradient(
            var(--grid-color) 1px,
            transparent 1px
          ),
          linear-gradient(90deg, var(--grid-color) 1px, transparent 1px);
        background-size: 20px 20px; /* –†–æ–∑–º—ñ—Ä –∫–ª—ñ—Ç–∏–Ω–∫–∏ */
        cursor: crosshair;
      }

      canvas {
        display: block;
      }

      .board-controls {
        position: absolute;
        top: 10px;
        right: 10px;
        background: white;
        padding: 5px;
        border-radius: 5px;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
        display: flex;
        gap: 5px;
      }

      .tool-btn {
        border: 1px solid #ccc;
        background: white;
        padding: 5px 10px;
        cursor: pointer;
        border-radius: 3px;
        font-size: 14px;
      }
      .tool-btn:hover {
        background: #eee;
      }
      .tool-btn.active {
        background: var(--accent);
        color: white;
        border-color: var(--accent);
      }

      /* –°—Ç–∏–ª—ñ –∑–∞–≤–¥–∞–Ω—å */
      .task-card {
        background: #fff;
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        margin-bottom: 20px;
      }
      h2 {
        color: var(--accent);
        border-bottom: 2px solid #ddd;
        padding-bottom: 5px;
      }
      input[type="number"] {
        padding: 5px;
        border: 2px solid #ddd;
        border-radius: 4px;
      }

      .check-btn {
        background: var(--accent);
        color: white;
        border: none;
        padding: 7px 15px;
        border-radius: 4px;
        cursor: pointer;
        margin-left: 10px;
      }

      .options-grid {
        display: flex;
        gap: 10px;
        flex-wrap: wrap;
        margin-top: 10px;
      }
      .option-btn {
        background: white;
        border: 1px solid #ccc;
        padding: 8px 12px;
        border-radius: 4px;
        cursor: pointer;
      }
      .option-btn.selected {
        background: var(--accent);
        color: white;
      }

      .result-msg {
        margin-top: 10px;
        font-weight: bold;
        display: none;
      }
      .correct {
        color: green;
      }
      .wrong {
        color: red;
      }
    </style>
  </head>
  <body>
    <div class="left-panel">
      <header style="text-align: center; margin-bottom: 20px">
        <h1>–î—ñ–∞–≥–Ω–æ—Å—Ç–∏—á–Ω–∞ —Ä–æ–±–æ—Ç–∞</h1>
        <p style="color: #666">–ü–∏—à–∏ —Ä–æ–∑–≤'—è–∑–∫–∏ –Ω–∞ –¥–æ—à—Ü—ñ –ø—Ä–∞–≤–æ—Ä—É—á üëâ</p>
      </header>

      <section>
        <h2>I. –ê–ª–≥–µ–±—Ä–∞</h2>

        <div class="task-card">
          <h3>1. –î–æ–¥–∞–≤–∞–Ω–Ω—è –¥—Ä–æ–±—ñ–≤</h3>
          $$ \frac{1}{4} + \frac{3}{8} $$
          <div class="options-grid">
            <button
              class="option-btn"
              onclick="checkOption(this, 'res1', false)"
            >
              \( 4/12 \)
            </button>
            <button
              class="option-btn"
              onclick="checkOption(this, 'res1', true)"
            >
              \( 5/8 \)
            </button>
            <button
              class="option-btn"
              onclick="checkOption(this, 'res1', false)"
            >
              \( 1/2 \)
            </button>
          </div>
          <div id="res1" class="result-msg"></div>
        </div>

        <div class="task-card">
          <h3>2. –†—ñ–≤–Ω—è–Ω–Ω—è</h3>
          <p>–ó–Ω–∞–π–¥—ñ—Ç—å x: \( \frac{12}{x} = 3 \)</p>
          <input type="number" id="inp2" />
          <button class="check-btn" onclick="checkInput('inp2', 'res2', 4)">
            –û–∫
          </button>
          <div id="res2" class="result-msg"></div>
        </div>

        <div class="task-card">
          <h3>3. –°–ø—Ä–æ—â–µ–Ω–Ω—è –≤–∏—Ä–∞–∑—É</h3>
          $$ \frac{x^2 - 9}{x - 3} $$
          <div class="options-grid">
            <button
              class="option-btn"
              onclick="checkOption(this, 'res3', true)"
            >
              \( x+3 \)
            </button>
            <button
              class="option-btn"
              onclick="checkOption(this, 'res3', false)"
            >
              \( x-3 \)
            </button>
          </div>
          <div id="res3" class="result-msg"></div>
        </div>

        <div class="task-card">
          <h3>4. –í—ñ–¥'—î–º–Ω–∏–π —Å—Ç–µ–ø—ñ–Ω—å</h3>
          $$ 2^{-3} = ? $$
          <div class="options-grid">
            <button
              class="option-btn"
              onclick="checkOption(this, 'res4', false)"
            >
              \( -8 \)
            </button>
            <button
              class="option-btn"
              onclick="checkOption(this, 'res4', true)"
            >
              \( 1/8 \)
            </button>
            <button
              class="option-btn"
              onclick="checkOption(this, 'res4', false)"
            >
              \( -6 \)
            </button>
          </div>
          <div id="res4" class="result-msg"></div>
        </div>
      </section>

      <section>
        <h2>II. –ì–µ–æ–º–µ—Ç—Ä—ñ—è</h2>
        <div class="task-card">
          <h3>5. –°–µ—Ä–µ–¥–Ω—è –ª—ñ–Ω—ñ—è —Ç—Ä–∏–∫—É—Ç–Ω–∏–∫–∞</h3>
          <p>
            –°—Ç–æ—Ä–æ–Ω–∞ —Ç—Ä–∏–∫—É—Ç–Ω–∏–∫–∞ = 16 —Å–º. –ó–Ω–∞–π–¥–∏ —Å–µ—Ä–µ–¥–Ω—é –ª—ñ–Ω—ñ—é –ø–∞—Ä–∞–ª–µ–ª—å–Ω—É –¥–æ —Ü—ñ—î—ó
            —Å—Ç–æ—Ä–æ–Ω–∏.
          </p>
          <input type="number" id="inp5" />
          <button class="check-btn" onclick="checkInput('inp5', 'res5', 8)">
            –û–∫
          </button>
          <div id="res5" class="result-msg"></div>
        </div>

        <div class="task-card">
          <h3>6. –°–µ—Ä–µ–¥–Ω—è –ª—ñ–Ω—ñ—è —Ç—Ä–∞–ø–µ—Ü—ñ—ó</h3>
          <p>–û—Å–Ω–æ–≤–∏ 4 —Å–º —ñ 10 —Å–º. –ó–Ω–∞–π–¥–∏ —Å–µ—Ä–µ–¥–Ω—é –ª—ñ–Ω—ñ—é.</p>
          <input type="number" id="inp6" />
          <button class="check-btn" onclick="checkInput('inp6', 'res6', 7)">
            –û–∫
          </button>
          <div id="res6" class="result-msg"></div>
        </div>
      </section>

      <br /><br /><br />
    </div>

    <div class="right-panel" id="boardContainer">
      <canvas id="drawingBoard"></canvas>

      <div class="board-controls">
        <button class="tool-btn active" onclick="setMode('draw')">
          ‚úèÔ∏è –†—É—á–∫–∞
        </button>
        <button class="tool-btn" onclick="setMode('eraser')">üßº –ì—É–º–∫–∞</button>
        <button class="tool-btn" onclick="clearBoard()" style="color: red">
          üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç–∏ –≤—Å–µ
        </button>
      </div>
    </div>

    <script>
      // --- JS –î–õ–Ø –¢–ï–°–¢–Ü–í ---
      function checkInput(id, resId, ans) {
        const val = parseFloat(document.getElementById(id).value);
        const msg = document.getElementById(resId);
        if (val === ans) {
          msg.innerHTML = "‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ";
          msg.className = "result-msg correct";
        } else {
          msg.innerHTML = "‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ";
          msg.className = "result-msg wrong";
        }
        msg.style.display = "block";
      }

      function checkOption(btn, resId, isCorrect) {
        let siblings = btn.parentElement.children;
        for (let s of siblings) s.classList.remove("selected");
        btn.classList.add("selected");

        const msg = document.getElementById(resId);
        if (isCorrect) {
          msg.innerHTML = "‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ";
          msg.className = "result-msg correct";
        } else {
          msg.innerHTML = "‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ";
          msg.className = "result-msg wrong";
        }
        msg.style.display = "block";
      }

      // --- JS –î–õ–Ø –î–û–®–ö–ò ---
      const canvas = document.getElementById("drawingBoard");
      const ctx = canvas.getContext("2d");
      const container = document.getElementById("boardContainer");

      let isDrawing = false;
      let mode = "draw"; // draw or eraser

      // –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Ä–æ–∑–º—ñ—Ä—É
      function resizeCanvas() {
        canvas.width = container.clientWidth;
        canvas.height = container.clientHeight;
        // –ü—ñ—Å–ª—è —Ä–µ—Å–∞–π–∑—É —Ç—Ä–µ–±–∞ –ø–æ–≤–µ—Ä–Ω—É—Ç–∏ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –ø–µ–Ω–∑–ª—è
        setupBrush();
      }
      window.addEventListener("resize", resizeCanvas);
      resizeCanvas(); // –≤–∏–∫–ª–∏–∫–∞—Ç–∏ –æ–¥–∏–Ω —Ä–∞–∑ –Ω–∞ —Å—Ç–∞—Ä—Ç—ñ

      function setupBrush() {
        ctx.lineCap = "round";
        ctx.lineJoin = "round";
        if (mode === "draw") {
          ctx.strokeStyle = "#2c3e50"; // –¢–µ–º–Ω–æ-—Å–∏–Ω—ñ–π –∫–æ–ª—ñ—Ä —Ä—É—á–∫–∏
          ctx.lineWidth = 2;
        } else {
          ctx.strokeStyle = "#ffffff"; // –ö–æ–ª—ñ—Ä —Ñ–æ–Ω—É –¥–ª—è –≥—É–º–∫–∏ (–∞–ª–µ –ø—Ä–æ–∑–æ—Ä—ñ—Å—Ç—å —Ñ–æ–Ω—É —Ç—É—Ç –Ω–µ —Å–ø—Ä–∞—Ü—é—î —ñ–¥–µ–∞–ª—å–Ω–æ, —Ç–æ–º—É –º–∞–ª—é—î–º–æ –±—ñ–ª–∏–º)
          // –û—Å–∫—ñ–ª—å–∫–∏ —É –Ω–∞—Å —Ñ–æ–Ω –ø—Ä–æ–∑–æ—Ä–∏–π –Ω–∞ canvas, –∞ —Å—ñ—Ç–∫–∞ –≤ CSS,
          // 'eraser' –≤ canvas —Ü–µ globalCompositeOperation = 'destination-out'
        }
      }

      function setMode(newMode) {
        mode = newMode;
        // –û–Ω–æ–≤–ª—é—î–º–æ –∫–Ω–æ–ø–∫–∏
        document
          .querySelectorAll(".tool-btn")
          .forEach((b) => b.classList.remove("active"));
        if (newMode === "draw")
          document
            .querySelector("button[onclick=\"setMode('draw')\"]")
            .classList.add("active");
        if (newMode === "eraser")
          document
            .querySelector("button[onclick=\"setMode('eraser')\"]")
            .classList.add("active");
      }

      function clearBoard() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
      }

      // –ú–∞–ª—é–≤–∞–Ω–Ω—è –º–∏—à–∫–æ—é
      function startDraw(e) {
        isDrawing = true;
        ctx.beginPath();
        ctx.moveTo(e.offsetX, e.offsetY);

        if (mode === "eraser") ctx.globalCompositeOperation = "destination-out";
        else ctx.globalCompositeOperation = "source-over";

        setupBrush();
        if (mode === "eraser") ctx.lineWidth = 20;
      }

      function draw(e) {
        if (!isDrawing) return;
        ctx.lineTo(e.offsetX, e.offsetY);
        ctx.stroke();
      }

      function stopDraw() {
        isDrawing = false;
        ctx.closePath();
      }

      canvas.addEventListener("mousedown", startDraw);
      canvas.addEventListener("mousemove", draw);
      canvas.addEventListener("mouseup", stopDraw);
      canvas.addEventListener("mouseout", stopDraw);
    </script>
  </body>
</html>
