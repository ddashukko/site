<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ê—Ä–∏—Ñ–º–µ—Ç–∏—á–Ω–∞ –ø—Ä–æ–≥—Ä–µ—Å—ñ—è: –Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∏–π –¢—Ä–µ–Ω–∞–∂–µ—Ä</title>
    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$']],
                processEscapes: true
            },
            options: {
                enableMenu: false
            }
        };
    </script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&family=Inter:wght@400;500&display=swap');
        
        :root {
            --primary: #4f46e5;
            --success: #10b981;
            --error: #ef4444;
            --bg-light: #f8fafc;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-light);
            height: 100vh;
            overflow: hidden;
        }

        h1, h2, h3 { font-family: 'Montserrat', sans-serif; }

        .split-screen { display: flex; height: 100vh; }

        /* Left side styles */
        #content-side {
            width: 55%;
            height: 100%;
            overflow-y: auto;
            padding: 2rem;
            border-right: 2px solid #e2e8f0;
            scrollbar-width: thin;
        }

        .task-card {
            background: white;
            border-radius: 16px;
            padding: 1.5rem;
            margin-bottom: 2rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.05);
            border: 1px solid #f1f5f9;
            transition: all 0.3s ease;
        }

        .task-card:hover { transform: translateY(-2px); box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.08); }

        .answer-input {
            width: 100px;
            height: 42px;
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            text-align: center;
            font-weight: 700;
            font-size: 1.1rem;
            transition: all 0.2s;
            outline: none;
        }

        .answer-input:focus { border-color: var(--primary); box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1); }
        .answer-input.correct { border-color: var(--success); background-color: #ecfdf5; color: #065f46; }
        .answer-input.wrong { border-color: var(--error); background-color: #fef2f2; color: #991b1b; }

        /* Details styling */
        details {
            margin-top: 1rem;
            border-radius: 8px;
            overflow: hidden;
            background: #f1f5f9;
        }
        summary {
            padding: 0.75rem 1rem;
            cursor: pointer;
            font-weight: 600;
            font-size: 0.85rem;
            color: #475569;
            user-select: none;
            transition: background 0.2s;
        }
        summary:hover { background: #e2e8f0; }
        .details-content { padding: 1rem; border-top: 1px solid #e2e8f0; font-size: 0.9rem; line-height: 1.6; }

        /* Whiteboard styles */
        #tool-side { width: 45%; height: 100%; display: flex; flex-direction: column; background: #fff; }
        .toolbar {
            background: #1e293b;
            padding: 0.75rem;
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
            align-items: center;
            box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1);
        }
        .tool-btn {
            padding: 0.5rem 0.75rem;
            border-radius: 8px;
            background: #334155;
            color: white;
            font-size: 0.8rem;
            font-weight: 600;
            transition: 0.2s;
        }
        .tool-btn:hover { background: #475569; }
        .tool-btn.active { background: var(--primary); }
        
        canvas { flex-grow: 1; cursor: crosshair; touch-action: none; }

        /* Progress Bar */
        #progress-container {
            position: sticky;
            top: -2rem;
            z-index: 100;
            background: rgba(248, 250, 252, 0.9);
            backdrop-filter: blur(8px);
            padding: 1rem 0;
            margin-bottom: 2rem;
        }
        .progress-bar { height: 8px; background: #e2e8f0; border-radius: 4px; overflow: hidden; }
        .progress-fill { height: 100%; background: var(--primary); width: 0%; transition: width 0.4s cubic-bezier(0.4, 0, 0.2, 1); }

        .instruction-box {
            background: linear-gradient(135deg, #6366f1 0%, #a855f7 100%);
            color: white;
            border-radius: 16px;
            padding: 1.5rem;
            margin-bottom: 2rem;
        }
    </style>
</head>
<body>

<div class="split-screen">
    <div id="content-side">
        <div id="progress-container">
            <div class="flex justify-between items-center mb-2">
                <span class="text-sm font-bold text-slate-600">–¢–≤—ñ–π –ø—Ä–æ–≥—Ä–µ—Å: <span id="solved-count">0</span> / 30</span>
                <span id="grade-badge" class="px-3 py-1 bg-indigo-100 text-indigo-700 rounded-full text-xs font-bold">–°–µ—Ä–µ–¥–Ω—ñ–π —Ä—ñ–≤–µ–Ω—å</span>
            </div>
            <div class="progress-bar">
                <div id="progress-fill" class="progress-fill"></div>
            </div>
        </div>

        <div class="instruction-box">
            <h1 class="text-2xl font-bold mb-2">–ê—Ä–∏—Ñ–º–µ—Ç–∏—á–Ω–∞ –ø—Ä–æ–≥—Ä–µ—Å—ñ—è üìà</h1>
            <p class="text-indigo-100 text-sm opacity-90 leading-relaxed">
                –°—å–æ–≥–æ–¥–Ω—ñ –º–∏ —Ä–æ–∑–±–µ—Ä–µ–º–æ 30 –ø—Ä–∞–∫—Ç–∏—á–Ω–∏—Ö –∑–∞–¥–∞—á. –ö–æ–∂–Ω–µ –ø–æ–ª–µ –ø–µ—Ä–µ–≤—ñ—Ä—è—î—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ. 
                –Ø–∫—â–æ –∑–∞–ø–ª—É—Ç–∞–≤—Å—è ‚Äî –ø—ñ–¥ –∫–æ–∂–Ω–æ—é –∑–∞–¥–∞—á–µ—é —î –ø—Ä–∏—Ö–æ–≤–∞–Ω–∞ –ø—ñ–¥–∫–∞–∑–∫–∞ —Ç–∞ –ø–æ–≤–Ω–∏–π —Ä–æ–∑–≤'—è–∑–æ–∫. –£—Å–ø—ñ—Ö—ñ–≤!
            </p>
        </div>

        <details class="mb-10 border-2 border-indigo-200">
            <summary class="text-indigo-700 uppercase tracking-widest text-xs">üìñ –¢–µ–æ—Ä—ñ—è: –ö–æ—Ä–æ—Ç–∫–∏–π –¥–æ–≤—ñ–¥–Ω–∏–∫</summary>
            <div class="details-content bg-indigo-50">
                <p><strong>–§–æ—Ä–º—É–ª–∞ $n$-–≥–æ —á–ª–µ–Ω–∞:</strong> $a_n = a_1 + (n-1)d$</p>
                <p><strong>–†—ñ–∑–Ω–∏—Ü—è:</strong> $d = a_{n+1} - a_n$</p>
                <p><strong>–°—É–º–∞ $n$ –ø–µ—Ä—à–∏—Ö —á–ª–µ–Ω—ñ–≤:</strong> $S_n = \frac{a_1 + a_n}{2} \cdot n$ –∞–±–æ $S_n = \frac{2a_1 + (n-1)d}{2} \cdot n$</p>
                <p class="mt-2 italic">–î–ª—è –∑—Ä—É—á–Ω–æ—Å—Ç—ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π —á–µ—Ä–Ω–µ—Ç–∫—É —Å–ø—Ä–∞–≤–∞ –¥–ª—è –æ–±—á–∏—Å–ª–µ–Ω—å!</p>
            </div>
        </details>

        

        <h2 class="text-xl font-bold text-slate-800 mb-4">–ë–ª–æ–∫ 1: –û–∑–Ω–∞—á–µ–Ω–Ω—è (‚Ññ691)</h2>
        <div class="task-card">
            <p class="mb-4">–ß–∏ —î –ø–æ—Å–ª—ñ–¥–æ–≤–Ω—ñ—Å—Ç—å –∞—Ä–∏—Ñ–º–µ—Ç–∏—á–Ω–æ—é –ø—Ä–æ–≥—Ä–µ—Å—ñ—î—é? <br><small class="text-slate-500">(–í–ø–∏—à–∏ <b>—Ç–∞–∫</b> –∞–±–æ <b>–Ω—ñ</b>)</small></p>
            <div class="space-y-4">
                <div class="flex justify-between items-center bg-slate-50 p-3 rounded-lg">
                    <span>1) $1; 2; 3; 4; 5; \dots$</span>
                    <input type="text" class="answer-input" data-answer="—Ç–∞–∫">
                </div>
                <div class="flex justify-between items-center bg-slate-50 p-3 rounded-lg">
                    <span>2) $1; 4; 9; 16; 25; \dots$</span>
                    <input type="text" class="answer-input" data-answer="–Ω—ñ">
                </div>
                <div class="flex justify-between items-center bg-slate-50 p-3 rounded-lg">
                    <span>3) $1; 3; 5; 7; 9; \dots$</span>
                    <input type="text" class="answer-input" data-answer="—Ç–∞–∫">
                </div>
                <div class="flex justify-between items-center bg-slate-50 p-3 rounded-lg">
                    <span>4) $\frac{1}{2}; \frac{1}{3}; \frac{1}{4}; \frac{1}{5}; \dots$</span>
                    <input type="text" class="answer-input" data-answer="–Ω—ñ">
                </div>
                <div class="flex justify-between items-center bg-slate-50 p-3 rounded-lg">
                    <span>5) $5; 5; 5; 5; \dots$</span>
                    <input type="text" class="answer-input" data-answer="—Ç–∞–∫">
                </div>
            </div>
            <details>
                <summary>üí° –ü—ñ–¥–∫–∞–∑–∫–∞ —Ç–∞ —Ä–æ–∑–≤'—è–∑–∞–Ω–Ω—è</summary>
                <div class="details-content text-slate-600">
                    <strong>–ü—ñ–¥–∫–∞–∑–∫–∞:</strong> –ü–µ—Ä–µ–≤—ñ—Ä, —á–∏ —î —Ä—ñ–∑–Ω–∏—Ü—è –º—ñ–∂ —Å—É—Å—ñ–¥–Ω—ñ–º–∏ —á–ª–µ–Ω–∞–º–∏ –æ–¥–Ω–∞–∫–æ–≤–æ—é ($a_2 - a_1 = a_3 - a_2$).<br>
                    <strong>–†–æ–∑–≤'—è–∑–∞–Ω–Ω—è:</strong> 5) –¢–∞–∫, —Ç—É—Ç $d = 0$. –¶–µ —Ç–∞–∫ –∑–≤–∞–Ω–∞ —Å—Ç–∞—Ü—ñ–æ–Ω–∞—Ä–Ω–∞ –ø—Ä–æ–≥—Ä–µ—Å—ñ—è.
                </div>
            </details>
        </div>

        <h2 class="text-xl font-bold text-slate-800 mb-4">–ë–ª–æ–∫ 2: –ü–æ—à—É–∫ —á–ª–µ–Ω—ñ–≤ (‚Ññ693)</h2>
        <div class="task-card">
            <p class="mb-4">–ó–Ω–∞–π–¥—ñ—Ç—å –¥—Ä—É–≥–∏–π —á–ª–µ–Ω ($a_2$) –ø—Ä–æ–≥—Ä–µ—Å—ñ—ó, —è–∫—â–æ –≤—ñ–¥–æ–º–æ $a_1$ —Ç–∞ $d$:</p>
            <div class="grid grid-cols-1 gap-4">
                <div class="flex justify-between items-center border-b pb-2">
                    <span>6) $a_1 = 4, d = -2$. $a_2 =$</span>
                    <input type="number" class="answer-input" data-answer="2">
                </div>
                <div class="flex justify-between items-center border-b pb-2">
                    <span>7) $a_1 = 3.8, d = 0.2$. $a_2 =$</span>
                    <input type="number" class="answer-input" data-answer="4" step="0.1">
                </div>
                <div class="flex justify-between items-center border-b pb-2">
                    <span>8) $a_1 = -10, d = 5$. $a_2 =$</span>
                    <input type="number" class="answer-input" data-answer="-5">
                </div>
                <div class="flex justify-between items-center border-b pb-2">
                    <span>9) $a_1 = 15, a_2 = 12$. $d =$</span>
                    <input type="number" class="answer-input" data-answer="-3">
                </div>
                <div class="flex justify-between items-center border-b pb-2">
                    <span>10) $a_1 = 8, a_{11} = 33$. $d =$</span>
                    <input type="number" class="answer-input" data-answer="2.5" step="0.1">
                </div>
            </div>
            <details>
                <summary>üí° –ü—ñ–¥–∫–∞–∑–∫–∞ —Ç–∞ —Ä–æ–∑–≤'—è–∑–∞–Ω–Ω—è</summary>
                <div class="details-content text-slate-600">
                    <strong>–ü—ñ–¥–∫–∞–∑–∫–∞:</strong> $a_2 = a_1 + d$. –î–ª—è ‚Ññ10 –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–π $a_{11} = a_1 + 10d$.<br>
                    <strong>–†–æ–∑–≤'—è–∑–∞–Ω–Ω—è:</strong> ‚Ññ10: $33 = 8 + 10d \Rightarrow 25 = 10d \Rightarrow d = 2.5$.
                </div>
            </details>
        </div>

        <h2 class="text-xl font-bold text-slate-800 mb-4">–ë–ª–æ–∫ 3: n-–π —á–ª–µ–Ω —Ç–∞ –ø–æ–≤—Ç–æ—Ä–µ–Ω–Ω—è</h2>
        <div class="task-card">
            <div class="space-y-6">
                <div>
                    <p class="font-semibold text-sm mb-2 text-indigo-600 underline">‚Ññ671 / 680 / 708</p>
                    <div class="space-y-4">
                        <div class="p-3 bg-slate-50 rounded-lg">
                            <span>11) $x_n = 4n^2 - 17$. –ó–Ω–∞–π–¥—ñ—Ç—å $x_2$:</span>
                            <input type="number" class="answer-input ml-4" data-answer="-1">
                        </div>
                        <div class="p-3 bg-slate-50 rounded-lg">
                            <span>12) $a_{18} = 5, a_{19} = 3$. –ó–Ω–∞–π–¥—ñ—Ç—å $a_{20}$:</span>
                            <input type="number" class="answer-input ml-4" data-answer="1">
                        </div>
                        <div class="p-3 bg-slate-50 rounded-lg">
                            <span>13) $a_4 = 11, a_{20} = 43$. –ó–Ω–∞–π–¥—ñ—Ç—å $d$:</span>
                            <input type="number" class="answer-input ml-4" data-answer="2">
                        </div>
                        <div class="p-3 bg-slate-50 rounded-lg">
                            <span>14) –ù–∞–π–±—ñ–ª—å—à–∏–π —á–ª–µ–Ω $a_n = 26 - n^2$:</span>
                            <input type="number" class="answer-input ml-4" data-answer="25">
                        </div>
                        <div class="p-3 bg-slate-50 rounded-lg">
                            <span>15) $b_n = -2n^2 + 16n$. –ü—Ä–∏ —è–∫–æ–º—É $n$ –≤—ñ–Ω –º–∞–∫—Å.?</span>
                            <input type="number" class="answer-input ml-4" data-answer="4">
                        </div>
                    </div>
                </div>

                <div>
                    <p class="font-semibold text-sm mb-2 text-green-600 underline">‚Ññ723 (–ü–æ–≤—Ç–æ—Ä–µ–Ω–Ω—è –∞–ª–≥–µ–±—Ä–∏)</p>
                    <div class="space-y-4">
                        <div class="p-3 bg-green-50 rounded-lg">
                            <span>16) $-4p^2t \cdot (-0.5p^3t^4)$. –ö–æ–µ—Ñ—ñ—Ü—ñ—î–Ω—Ç:</span>
                            <input type="number" class="answer-input ml-4" data-answer="2">
                        </div>
                        <div class="p-3 bg-green-50 rounded-lg">
                            <span>17) –°—Ç–µ–ø—ñ–Ω—å $p$ —É —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ ‚Ññ16:</span>
                            <input type="number" class="answer-input ml-4" data-answer="5">
                        </div>
                        <div class="p-3 bg-green-50 rounded-lg">
                            <span>18) –°—Ç–µ–ø—ñ–Ω—å $t$ —É —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ ‚Ññ16:</span>
                            <input type="number" class="answer-input ml-4" data-answer="5">
                        </div>
                        <div class="p-3 bg-green-50 rounded-lg">
                            <span>19) $\frac{39p^3}{5a} : 13p^7a^5$. –°—Ç–µ–ø—ñ–Ω—å $p$ —É –∑–Ω–∞–º–µ–Ω–Ω–∏–∫—É:</span>
                            <input type="number" class="answer-input ml-4" data-answer="4">
                        </div>
                        <div class="p-3 bg-green-50 rounded-lg">
                            <span>20) –ß–∏—Å–ª–æ–≤–∏–π –∫–æ–µ—Ñ—ñ—Ü—ñ—î–Ω—Ç —É —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ ‚Ññ19:</span>
                            <input type="text" class="answer-input ml-4" data-answer="0.6">
                        </div>
                    </div>
                </div>
            </div>
            <details>
                <summary>üí° –ü—ñ–¥–∫–∞–∑–∫–∞ —Ç–∞ —Ä–æ–∑–≤'—è–∑–∞–Ω–Ω—è</summary>
                <div class="details-content text-slate-600 text-sm">
                    <strong>‚Ññ13:</strong> $a_{20} - a_4 = 16d \Rightarrow 43 - 11 = 32 \Rightarrow d=2$.<br>
                    <strong>‚Ññ15:</strong> –¶–µ –ø–∞—Ä–∞–±–æ–ª–∞ –≥—ñ–ª–∫–∞–º–∏ –≤–Ω–∏–∑. –ú–∞–∫—Å–∏–º—É–º —É –≤–µ—Ä—à–∏–Ω—ñ $n = -B/2A = -16 / (2 \cdot -2) = 4$.
                </div>
            </details>
        </div>

        <h2 class="text-xl font-bold text-slate-800 mb-4">–ë–ª–æ–∫ 4: –°—É–º–∞ $S_n$ —Ç–∞ –í–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ</h2>
        <div class="task-card">
            <div class="space-y-4 text-sm">
                <div class="flex items-center justify-between p-3 border-l-4 border-indigo-400 bg-slate-50">
                    <span>21) $a_1+a_{23}=-37$. –ó–Ω–∞–π–¥—ñ—Ç—å $a_5+a_{19}$:</span>
                    <input type="number" class="answer-input" data-answer="-37">
                </div>
                <div class="flex items-center justify-between p-3 border-l-4 border-indigo-400 bg-slate-50">
                    <span>22) $S_8$ —è–∫—â–æ $a_1=5, a_8=10$:</span>
                    <input type="number" class="answer-input" data-answer="60">
                </div>
                <div class="flex items-center justify-between p-3 border-l-4 border-indigo-400 bg-slate-50">
                    <span>23) $S_{10}$ —è–∫—â–æ $a_1=7, a_{10}=15$:</span>
                    <input type="number" class="answer-input" data-answer="110">
                </div>
                <div class="flex items-center justify-between p-3 border-l-4 border-indigo-400 bg-slate-50">
                    <span>24) $S_{18}$ —è–∫—â–æ $c_1=17, d=-2$:</span>
                    <input type="number" class="answer-input" data-answer="0">
                </div>
                <div class="flex items-center justify-between p-3 border-l-4 border-indigo-400 bg-slate-50">
                    <span>25) $S_{20}$ —è–∫—â–æ $a_1=15, d=-3$:</span>
                    <input type="number" class="answer-input" data-answer="-270">
                </div>
                <div class="flex items-center justify-between p-3 border-l-4 border-indigo-400 bg-slate-50">
                    <span>26) –°—É–º–∞ –¥–æ–¥–∞—Ç–Ω–∏—Ö —á–ª. $19; 17; 15; \dots$:</span>
                    <input type="number" class="answer-input" data-answer="100">
                </div>
                <div class="flex items-center justify-between p-3 border-l-4 border-indigo-400 bg-slate-50">
                    <span>27) –°—É–º–∞ –≤—ñ–¥‚Äô—î–º–Ω–∏—Ö —á–ª. $-23; -20; -17; \dots$:</span>
                    <input type="number" class="answer-input" data-answer="-100">
                </div>
                <div class="p-3 bg-amber-50 rounded-lg border border-amber-200">
                    <p class="font-bold text-amber-800 mb-2">üöö –ó–∞–¥–∞—á–∞ 722: –õ–æ–≥—ñ—Å—Ç–∏–∫–∞</p>
                    <p class="mb-2">–Ø–∫–∞ –≤–∞—Ä—Ç—ñ—Å—Ç—å –Ω–∞–π–¥–µ—à–µ–≤—à–æ–≥–æ –ø–µ—Ä–µ–≤–µ–∑–µ–Ω–Ω—è 40—Ç –Ω–∞ 1200–∫–º?</p>
                    <div class="flex justify-end items-center gap-3">
                        <span class="text-xs italic text-amber-700">–í–ø–∏—à–∏ —Ç—ñ–ª—å–∫–∏ —á–∏—Å–ª–æ</span>
                        <input type="number" class="answer-input" data-answer="96000">
                    </div>
                </div>
                <div class="flex items-center justify-between p-3 border-l-4 border-indigo-400 bg-slate-50">
                    <span>29) $a_{10}+a_{24}=5$. –ó–Ω–∞–π–¥—ñ—Ç—å $a_{17}$:</span>
                    <input type="number" class="answer-input" data-answer="2.5" step="0.1">
                </div>
                <div class="flex items-center justify-between p-3 border-l-4 border-indigo-400 bg-slate-50">
                    <span>30) –ó–Ω–∞–π–¥—ñ—Ç—å $a_1$, —è–∫—â–æ $S_2=10$ —Ç–∞ $d=2$:</span>
                    <input type="number" class="answer-input" data-answer="4">
                </div>
            </div>
            <details>
                <summary>üí° –ü—ñ–¥–∫–∞–∑–∫–∞ —Ç–∞ —Ä–æ–∑–≤'—è–∑–∞–Ω–Ω—è</summary>
                <div class="details-content text-slate-600 text-sm">
                    <strong>‚Ññ21:</strong> –í–ª–∞—Å—Ç–∏–≤—ñ—Å—Ç—å: $1+23 = 5+19$. –°—É–º–∏ —Ä—ñ–≤–Ω—ñ!<br>
                    <strong>‚Ññ28 (–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç):</strong> –ú–∞—à–∏–Ω–∞ –ë –±–µ—Ä–µ 5—Ç. –¢—Ä–µ–±–∞ 8 –º–∞—à–∏–Ω. $8 \cdot 1000 \text{ –≥—Ä–Ω} \cdot 12 \text{ —Å–æ—Ç–µ–Ω—å –∫–º} = 96000$. –¶–µ –≤–∏–≥—ñ–¥–Ω—ñ—à–µ –∑–∞ –ê (115200) —Ç–∞ –í (110400).
                </div>
            </details>
        </div>

        <button id="final-btn" onclick="checkFinal()" class="w-full py-5 bg-indigo-600 text-white rounded-2xl font-bold text-xl hover:bg-indigo-700 transition shadow-xl mt-4 mb-20">
            –ó–ê–í–ï–†–®–ò–¢–ò –¢–ê –û–¶–Ü–ù–ò–¢–ò
        </button>
    </div>

    <div id="tool-side">
        <div class="toolbar">
            <button class="tool-btn active" id="penTool" onclick="setTool('pen')">‚úèÔ∏è –û–ª—ñ–≤–µ—Ü—å</button>
            <button class="tool-btn" id="eraserTool" onclick="setTool('eraser')">üßΩ –ì—É–º–∫–∞</button>
            <button class="tool-btn" onclick="clearCanvas()">üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç–∏</button>
            <div class="w-px h-6 bg-slate-600 mx-2"></div>
            <button class="tool-btn bg-indigo-500" onclick="drawGrid()">üåê –°—ñ—Ç–∫–∞</button>
            <button class="tool-btn bg-purple-500" onclick="drawAxes()">‚ûï –û—Å—ñ</button>
        </div>
        <canvas id="whiteboard"></canvas>
    </div>
</div>

<div id="modal" class="fixed inset-0 bg-black/50 hidden flex items-center justify-center z-[1000] p-4 backdrop-blur-sm">
    <div class="bg-white p-10 rounded-3xl max-w-md w-full text-center shadow-2xl transform scale-95 transition-transform duration-300" id="modal-box">
        <div class="w-24 h-24 bg-indigo-100 rounded-full flex items-center justify-center mx-auto mb-6 text-5xl">üèÜ</div>
        <h2 class="text-3xl font-bold text-slate-800 mb-2">–£—Ä–æ–∫ –ø—Ä–æ–π–¥–µ–Ω–æ!</h2>
        <p id="final-score" class="text-5xl font-black text-indigo-600 mb-4">12 / 12</p>
        <p id="motivational-phrase" class="text-slate-500 italic mb-8"></p>
        <button onclick="location.reload()" class="w-full py-4 bg-slate-800 text-white rounded-xl font-bold">–°–ø—Ä–æ–±—É–≤–∞—Ç–∏ —â–µ —Ä–∞–∑</button>
    </div>
</div>

<script>
    // --- –ü–ï–†–ï–í–Ü–†–ö–ê ---
    const inputs = document.querySelectorAll('.answer-input');
    const totalCount = 30;
    const solvedText = document.getElementById('solved-count');
    const progressFill = document.getElementById('progress-fill');

    inputs.forEach(input => {
        input.addEventListener('input', function() {
            const userVal = this.value.trim().toLowerCase().replace(',', '.');
            const correctVal = this.dataset.answer.toLowerCase();

            if (userVal === correctVal) {
                this.classList.add('correct');
                this.classList.remove('wrong');
                this.disabled = true;
                updateProgress();
            } else if (userVal.length >= correctVal.length) {
                this.classList.add('wrong');
            } else {
                this.classList.remove('wrong', 'correct');
            }
        });
    });

    function updateProgress() {
        const solved = document.querySelectorAll('.answer-input.correct').length;
        solvedText.innerText = solved;
        const percent = (solved / totalCount) * 100;
        progressFill.style.width = percent + '%';
    }

    function checkFinal() {
        const solved = document.querySelectorAll('.answer-input.correct').length;
        const mark = Math.round((solved / totalCount) * 12);
        
        document.getElementById('modal').classList.remove('hidden');
        document.getElementById('modal-box').classList.add('scale-100');
        document.getElementById('final-score').innerText = mark + " / 12";
        
        const phrases = [
            "–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ ‚Äî —Ü–µ –≥—ñ–º–Ω–∞—Å—Ç–∏–∫–∞ –¥–ª—è –º–æ–∑–∫—É. –¢–∏ —Å—å–æ–≥–æ–¥–Ω—ñ –¥–æ–±—Ä–µ —Ä–æ–∑—ñ–º'—è–≤—Å—è!",
            "–¢–≤–æ—ó –Ω–∞–≤–∏—á–∫–∏ –ø—Ä–æ–≥—Ä–µ—Å—É—é—Ç—å —Ç–∞–∫ —Å–∞–º–æ —à–≤–∏–¥–∫–æ, —è–∫ —ñ –∞—Ä–∏—Ñ–º–µ—Ç–∏—á–Ω–∞ –ø—Ä–æ–≥—Ä–µ—Å—ñ—è!",
            "–ß—É–¥–æ–≤–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç! –¢–≤–æ—è –ª–æ–≥—ñ–∫–∞ –ø—Ä–∞—Ü—é—î –±–µ–∑–¥–æ–≥–∞–Ω–Ω–æ.",
            "–ù–µ–π–º–æ–≤—ñ—Ä–Ω–æ! –¢–∏ –≤–ø–æ—Ä–∞–≤—Å—è –∑ —É—Å—ñ–º–∞ –≤–∏–∫–ª–∏–∫–∞–º–∏ —É—Ä–æ–∫—É.",
            "–ü—Ä–æ–¥–æ–≤–∂—É–π —É —Ç–æ–º—É –∂ –¥—É—Å—ñ, —É—Å–ø—ñ—Ö –≤–∂–µ –ø–æ—Ä—É—á!"
        ];
        document.getElementById('motivational-phrase').innerText = phrases[Math.floor(Math.random() * phrases.length)];
    }

    // --- CANVAS (–ß–ï–†–ù–ï–¢–ö–ê) ---
    const canvas = document.getElementById('whiteboard');
    const ctx = canvas.getContext('2d');
    let isDrawing = false;
    let currentTool = 'pen';

    function resize() {
        const rect = canvas.parentElement.getBoundingClientRect();
        canvas.width = rect.width;
        canvas.height = rect.height;
    }
    window.addEventListener('resize', resize);
    resize();

    function setTool(tool) {
        currentTool = tool;
        document.querySelectorAll('.tool-btn').forEach(b => b.classList.remove('active'));
        if (tool === 'pen') document.getElementById('penTool').classList.add('active');
        if (tool === 'eraser') document.getElementById('eraserTool').classList.add('active');
    }

    function startDraw(e) {
        isDrawing = true;
        ctx.beginPath();
        const pos = getPos(e);
        ctx.moveTo(pos.x, pos.y);
    }

    function draw(e) {
        if (!isDrawing) return;
        const pos = getPos(e);
        ctx.lineWidth = currentTool === 'eraser' ? 30 : 2;
        ctx.strokeStyle = currentTool === 'eraser' ? '#ffffff' : '#1e293b';
        ctx.lineTo(pos.x, pos.y);
        ctx.stroke();
    }

    function getPos(e) {
        const rect = canvas.getBoundingClientRect();
        const clientX = e.clientX || e.touches[0].clientX;
        const clientY = e.clientY || e.touches[0].clientY;
        return { x: clientX - rect.left, y: clientY - rect.top };
    }

    canvas.addEventListener('mousedown', startDraw);
    canvas.addEventListener('mousemove', draw);
    window.addEventListener('mouseup', () => isDrawing = false);
    canvas.addEventListener('touchstart', (e) => { e.preventDefault(); startDraw(e); });
    canvas.addEventListener('touchmove', (e) => { e.preventDefault(); draw(e); });
    canvas.addEventListener('touchend', () => isDrawing = false);

    function clearCanvas() { ctx.clearRect(0, 0, canvas.width, canvas.height); }

    function drawGrid() {
        ctx.strokeStyle = '#e2e8f0';
        ctx.lineWidth = 1;
        for (let x = 0; x < canvas.width; x += 30) {
            ctx.beginPath(); ctx.moveTo(x, 0); ctx.lineTo(x, canvas.height); ctx.stroke();
        }
        for (let y = 0; y < canvas.height; y += 30) {
            ctx.beginPath(); ctx.moveTo(0, y); ctx.lineTo(canvas.width, y); ctx.stroke();
        }
    }

    function drawAxes() {
        const midX = canvas.width / 2;
        const midY = canvas.height / 2;
        ctx.strokeStyle = '#475569';
        ctx.lineWidth = 2;
        ctx.beginPath(); ctx.moveTo(0, midY); ctx.lineTo(canvas.width, midY); ctx.stroke();
        ctx.beginPath(); ctx.moveTo(midX, 0); ctx.lineTo(midX, canvas.height); ctx.stroke();
        ctx.font = '12px Montserrat';
        ctx.fillText('X', canvas.width - 20, midY - 10);
        ctx.fillText('Y', midX + 10, 20);
    }
</script>

</body>
</html>
